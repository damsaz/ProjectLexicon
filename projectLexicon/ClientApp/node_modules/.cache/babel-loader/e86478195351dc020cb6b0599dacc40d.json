{"ast":null,"code":"var _jsxFileName = \"/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/ForumThread.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport authService from './api-authorization/AuthorizeService';\nimport { FormThreadDetail } from './ForumThreadDetail';\nimport \"./root.css\";\nimport \"./popup.css\";\nimport { apiGet } from '../api/api';\nexport class ForumThread extends Component {\n  constructor(props) {\n    super(props);\n    this.showDetail = thread => {\n      this.setState({\n        showPopup: true,\n        popupId: thread.id,\n        currentThread: thread\n      });\n    };\n    this.state = {\n      rows: [],\n      loading: true,\n      showPopup: false,\n      popupId: 0,\n      categoryName: '',\n      forumCategoryId: props.forumCategoryId,\n      onClose: props.onClose,\n      currentThread: null\n    };\n    this.showDetail = this.showDetail.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.showDetail = this.showDetail.bind(this);\n    this.showAdd = this.showAdd.bind(this);\n    this.handleAddThread = this.handleAddThread.bind(this);\n    this.handleDeleteThread = this.handleDeleteThread.bind(this);\n    this.handleEditThread = this.handleEditThread.bind(this);\n  }\n  componentDidMount() {\n    this.populateData(this.state.forumCategoryId);\n  }\n  handleClose() {\n    this.setState({\n      showPopup: false,\n      popupId: 0\n    });\n  }\n  showAdd() {\n    this.setState({\n      showPopup: true,\n      popupId: 0,\n      currentThread: null,\n      forumCategoryId: this.state.forumCategoryId\n    });\n  }\n  handleAddThread(newThread) {\n    let rows = [...this.state.rows];\n    rows.push(newThread);\n    this.setState({\n      rows\n    });\n  }\n  handleDeleteThread(threadId) {\n    let rows = [...this.state.rows];\n    const index = rows.findIndex(t => t.id == threadId);\n    if (index > -1) {\n      rows.splice(index, 1);\n    }\n    this.setState({\n      rows\n    });\n  }\n  handleEditThread(changedThread) {\n    let rows = [...this.state.rows];\n    const index = rows.findIndex(t => t.id == changedThread.id);\n    if (index > -1) {\n      rows[index] = {\n        ...rows[index],\n        ...changedThread\n      };\n    }\n    this.setState({\n      rows\n    });\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, this.state.showPopup && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"popupBase\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"popupForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormThreadDetail, {\n      onAdd: this.handleAddThread,\n      onChange: this.handleEditThread,\n      onDelete: this.handleDeleteThread,\n      handleClose: this.handleClose,\n      popupId: this.state.popupId,\n      thread: this.state.currentThread,\n      forumCategoryId: this.state.forumCategoryId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"h1\", {\n      id: \"tabelLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, \"Threads\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, \"Threads for category \", this.state.categoryName), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.state.onClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.showAdd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, \"Add New\"), this.state.loading && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 32\n      }\n    }, /*#__PURE__*/React.createElement(\"em\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 35\n      }\n    }, \"Loading...\")), !this.state.loading && /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped\",\n      \"aria-labelledby\": \"tabelLabel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, \"Thread Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, this.state.rows.filter(x => x.forumCategoryId == this.props.forumCategoryId).map(x => /*#__PURE__*/React.createElement(\"tr\", {\n      key: x.id,\n      onClick: () => this.showDetail(x),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, x.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, x.name))))));\n  }\n  async populateData(forumCategoryId) {\n    let category = await apiGet('forumcategory/Item', {\n      id: forumCategoryId\n    });\n    let data = await apiGet('forumthread/List', {\n      ForumCategoryId: forumCategoryId\n    });\n    this.setState({\n      rows: data.result,\n      loading: false,\n      categoryName: category.result.name\n    });\n  }\n}\nForumThread.displayName = ForumThread.name;","map":{"version":3,"names":["React","Component","Button","authService","FormThreadDetail","apiGet","ForumThread","constructor","props","showDetail","thread","setState","showPopup","popupId","id","currentThread","state","rows","loading","categoryName","forumCategoryId","onClose","bind","handleClose","showAdd","handleAddThread","handleDeleteThread","handleEditThread","componentDidMount","populateData","newThread","push","threadId","index","findIndex","t","splice","changedThread","render","filter","x","map","name","category","data","ForumCategoryId","result","displayName"],"sources":["/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/ForumThread.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Button } from 'reactstrap';\nimport authService from './api-authorization/AuthorizeService'\nimport { FormThreadDetail } from './ForumThreadDetail';\nimport \"./root.css\";\nimport \"./popup.css\";\nimport { apiGet } from '../api/api';\n\n\nexport class ForumThread extends Component {\n  static displayName = ForumThread.name;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: [],\n      loading: true,\n      showPopup: false,\n      popupId: 0,\n      categoryName: '',\n      forumCategoryId: props.forumCategoryId,\n      onClose: props.onClose,\n      currentThread: null\n    };\n    this.showDetail = this.showDetail.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.showDetail = this.showDetail.bind(this);\n    this.showAdd = this.showAdd.bind(this);\n    this.handleAddThread = this.handleAddThread.bind(this);\n    this.handleDeleteThread = this.handleDeleteThread.bind(this);\n    this.handleEditThread = this.handleEditThread.bind(this);\n  }\n\n  componentDidMount() {\n    this.populateData(this.state.forumCategoryId);\n  }\n\n  showDetail = (thread) => {\n    this.setState({ showPopup: true, popupId: thread.id, currentThread: thread });\n  }\n\n  handleClose() {\n    this.setState({ showPopup: false, popupId: 0 });\n  }\n\n  showAdd() {\n    this.setState({ showPopup: true, popupId: 0, currentThread: null, forumCategoryId: this.state.forumCategoryId });\n  }\n\n  handleAddThread(newThread) {\n    let rows = [...this.state.rows];\n    rows.push(newThread);\n    this.setState({rows})\n  }\n\n  handleDeleteThread(threadId) {\n    let rows = [...this.state.rows];\n    const index = rows.findIndex(t => t.id == threadId);\n    if (index > -1) {\n      rows.splice(index, 1);\n    }\n    this.setState({ rows })\n  }\n\n  handleEditThread(changedThread) {\n    let rows = [...this.state.rows];\n    const index = rows.findIndex(t => t.id == changedThread.id);\n    if (index > -1) {\n      rows[index] = { ...rows[index] , ...changedThread}\n    }\n    this.setState({ rows })\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.showPopup &&\n          <div className=\"popupBase\">\n            <div className=\"popupForm\">\n              <FormThreadDetail\n                onAdd={this.handleAddThread}\n                onChange={this.handleEditThread}\n                onDelete={this.handleDeleteThread }\n                handleClose={this.handleClose}\n                popupId={this.state.popupId}\n                thread={this.state.currentThread}\n                forumCategoryId={this.state.forumCategoryId} />\n            </div>\n          </div>\n        }\n        <h1 id=\"tabelLabel\" >Threads</h1>\n        <p>Threads for category {this.state.categoryName}\n        </p>\n        <Button onClick={this.state.onClose} >Close</Button>\n        <Button onClick={this.showAdd} >Add New</Button>\n        {this.state.loading && <p><em>Loading...</em></p>}\n        {!this.state.loading && (\n          <table className='table table-striped' aria-labelledby=\"tabelLabel\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Thread Name</th>\n              </tr>\n            </thead>\n            <tbody>\n              {this.state.rows.filter(x => x.forumCategoryId == this.props.forumCategoryId).map(x =>\n                <tr key={x.id} onClick={() => this.showDetail(x)}>\n                  <td>{x.id}</td>\n                  <td>{x.name}</td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        )}\n      </div>\n    );\n  }\n\n\n\n  async populateData(forumCategoryId) {\n    let category = await apiGet('forumcategory/Item', { id: forumCategoryId })\n    let data = await apiGet('forumthread/List', { ForumCategoryId: forumCategoryId })\n    this.setState({ rows: data.result, loading: false, categoryName: category.result.name });\n\n  }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}