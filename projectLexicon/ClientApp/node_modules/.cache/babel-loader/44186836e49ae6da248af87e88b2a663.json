{"ast":null,"code":"var _jsxFileName = \"/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/ForumPostNew.jsx\";\nimport React, { useState } from \"react\";\nimport { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { apiPost } from '../api/api';\nimport { ErrBase } from './ErrBase';\nexport function ForumPostNew(props) {\n  const {\n    forumThread,\n    quotedPost,\n    quotedText,\n    onClose,\n    onAdd\n  } = props;\n  const [text, setText] = useState(\"Startvalue\");\n  const [errmsg, setErrmsg] = useState(\"\");\n  function doClose() {\n    onClose();\n  }\n\n  //function handleTextChange(value) {\n  //  setText(e.target.value);\n  //}\n\n  async function savePost() {\n    const params = {\n      forumThreadId: forumThread.id,\n      tagIds: [],\n      text,\n      quotedText,\n      forumPostId: quotedPost ? quotedPost.id : 0\n    };\n    const newItem = await apiPost(\"forumpost/Add\", params);\n    if (newItem.errText) {\n      return setErrmsg(newItem.errText);\n    }\n    newItem.result && props.onAdd(newItem.result);\n    doClose();\n  }\n  function handleValueChanged(e) {\n    setText(e.target.value);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ErrBase, {\n    errmsg: errmsg,\n    onClose: () => setErrmsg(\"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, !!quotedText && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 31\n    }\n  }, quotedText), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 58\n    }\n  })), /*#__PURE__*/React.createElement(Label, {\n    for: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"New Post\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"textarea\",\n    name: \"text\",\n    id: \"text\",\n    value: text,\n    placeholder: \"Write someting interesting\",\n    onChange: handleValueChanged,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: savePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Save Post\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: doClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Cancel\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, \"item.Text\"));\n}","map":{"version":3,"names":["React","useState","Form","FormGroup","Label","Input","Button","apiPost","ErrBase","ForumPostNew","props","forumThread","quotedPost","quotedText","onClose","onAdd","text","setText","errmsg","setErrmsg","doClose","savePost","params","forumThreadId","id","tagIds","forumPostId","newItem","errText","result","handleValueChanged","e","target","value"],"sources":["/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/ForumPostNew.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\nimport { apiPost } from '../api/api'\nimport { ErrBase } from './ErrBase'\n\nexport function ForumPostNew(props) {\n  const { forumThread, quotedPost, quotedText, onClose, onAdd } = props;\n  const [text, setText] = useState(\"Startvalue\");\n  const [errmsg, setErrmsg] = useState(\"\");\n\n  function doClose() {\n    onClose();\n  }\n\n  //function handleTextChange(value) {\n  //  setText(e.target.value);\n  //}\n\n  async function savePost() {\n    const params = {\n      forumThreadId: forumThread.id,\n      tagIds: [],\n      text,\n      quotedText,\n      forumPostId: quotedPost ? quotedPost.id : 0\n    }\n      \n    const newItem = await apiPost(\"forumpost/Add\", params);\n    if (newItem.errText) {\n      return setErrmsg(newItem.errText);\n    }\n    newItem.result && props.onAdd(newItem.result);\n    doClose();\n  }\n\n  function handleValueChanged(e) {\n    setText(e.target.value)\n  }\n\n  return (\n    <>\n      <Form>\n        <ErrBase errmsg={errmsg} onClose={() => setErrmsg(\"\")} />\n        <FormGroup>\n          {!!quotedText && (<><Label>{quotedText}</Label><hr></hr></>)}\n          <Label for=\"text\">New Post</Label>\n          <Input\n            type=\"textarea\"\n            name=\"text\"\n            id=\"text\"\n            value={text}\n            placeholder=\"Write someting interesting\"\n            onChange={handleValueChanged}\n          />\n        </FormGroup>\n        <Button onClick={savePost}>Save Post</Button>\n        <Button onClick={doClose}>Cancel</Button>\n      </Form>\n      <p>item.Text</p>\n    </>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,EAAEC,SAAS,EAAEC,KAAK,EAAEC,KAAK,EAAEC,MAAM,QAAQ,YAAY;AAClE,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,OAAO,QAAQ,WAAW;AAEnC,OAAO,SAASC,YAAY,CAACC,KAAK,EAAE;EAClC,MAAM;IAAEC,WAAW;IAAEC,UAAU;IAAEC,UAAU;IAAEC,OAAO;IAAEC;EAAM,CAAC,GAAGL,KAAK;EACrE,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,YAAY,CAAC;EAC9C,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAExC,SAASmB,OAAO,GAAG;IACjBN,OAAO,EAAE;EACX;;EAEA;EACA;EACA;;EAEA,eAAeO,QAAQ,GAAG;IACxB,MAAMC,MAAM,GAAG;MACbC,aAAa,EAAEZ,WAAW,CAACa,EAAE;MAC7BC,MAAM,EAAE,EAAE;MACVT,IAAI;MACJH,UAAU;MACVa,WAAW,EAAEd,UAAU,GAAGA,UAAU,CAACY,EAAE,GAAG;IAC5C,CAAC;IAED,MAAMG,OAAO,GAAG,MAAMpB,OAAO,CAAC,eAAe,EAAEe,MAAM,CAAC;IACtD,IAAIK,OAAO,CAACC,OAAO,EAAE;MACnB,OAAOT,SAAS,CAACQ,OAAO,CAACC,OAAO,CAAC;IACnC;IACAD,OAAO,CAACE,MAAM,IAAInB,KAAK,CAACK,KAAK,CAACY,OAAO,CAACE,MAAM,CAAC;IAC7CT,OAAO,EAAE;EACX;EAEA,SAASU,kBAAkB,CAACC,CAAC,EAAE;IAC7Bd,OAAO,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACzB;EAEA,oBACE,uDACE,oBAAC,IAAI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACH,oBAAC,OAAO;IAAC,MAAM,EAAEf,MAAO;IAAC,OAAO,EAAE,MAAMC,SAAS,CAAC,EAAE,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,eACzD,oBAAC,SAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACP,CAAC,CAACN,UAAU,iBAAK,uDAAE,oBAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAEA,UAAU,CAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAS,CAAI,eAC5D,oBAAC,KAAK;IAAC,GAAG,EAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,cAAiB,eAClC,oBAAC,KAAK;IACJ,IAAI,EAAC,UAAU;IACf,IAAI,EAAC,MAAM;IACX,EAAE,EAAC,MAAM;IACT,KAAK,EAAEG,IAAK;IACZ,WAAW,EAAC,4BAA4B;IACxC,QAAQ,EAAEc,kBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAC7B,CACQ,eACZ,oBAAC,MAAM;IAAC,OAAO,EAAET,QAAS;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAAmB,eAC7C,oBAAC,MAAM;IAAC,OAAO,EAAED,OAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YAAgB,CACpC,eACP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,eAAgB,CACf;AAEP"},"metadata":{},"sourceType":"module"}