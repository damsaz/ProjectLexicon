{"ast":null,"code":"var _jsxFileName = \"/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/Chat/ConversationList.js\";\nimport React, { useState, useEffect } from 'react';\nimport ConversationSearch from './ConversationSearch';\nimport ConversationListItem from './ConversationListItem';\nimport Toolbar from './Toolbar';\nimport ToolbarButton from './ToolbarButton';\nimport axios from 'axios';\nimport { apiGet } from './api';\nimport './Style/ConversationList.css';\nimport usersService from '../users/UsersService';\nimport authService from './api-authorization/AuthorizeService';\nexport default function ConversationList(props) {\n  const [conversations, setConversations] = useState([]);\n  useEffect(() => {\n    getConversations();\n  }, []);\n  const [isPending, setIsPending] = useState(true);\n  const getConversations = () => {\n    // setConversations(usersService.getUserChat());\n\n    // let x = usersService.getUserChat();\n    const newItem = apiGet(\"Messages/GetUser\");\n    if (newItem.errText) {\n      alert(newItem.errText);\n    }\n    setConversations(newItem);\n    const token = authService.getAccessToken();\n    const response = fetch('api/Messages/GetUser', {\n      headers: !token ? {} : {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    const data = response.json();\n  };\n  console.log(conversations);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"conversation-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    title: \"Messenger\",\n    leftItems: [/*#__PURE__*/React.createElement(ToolbarButton, {\n      key: \"cog\",\n      icon: \"ion-ios-cog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    })],\n    rightItems: [/*#__PURE__*/React.createElement(ToolbarButton, {\n      key: \"add\",\n      icon: \"ion-ios-add-circle-outline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ConversationSearch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), conversations.map(conversation => /*#__PURE__*/React.createElement(ConversationListItem, {\n    key: conversation.Userid,\n    data: conversation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  })));\n}","map":{"version":3,"names":["React","useState","useEffect","ConversationSearch","ConversationListItem","Toolbar","ToolbarButton","axios","apiGet","usersService","authService","ConversationList","props","conversations","setConversations","getConversations","isPending","setIsPending","newItem","errText","alert","token","getAccessToken","response","fetch","headers","data","json","console","log","map","conversation","Userid"],"sources":["/Users/bhrozdamsaz/Documents/GitHub/ProjectLexicon/projectLexicon/ClientApp/src/components/Chat/ConversationList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport ConversationSearch from './ConversationSearch';\nimport ConversationListItem from './ConversationListItem';\nimport Toolbar from './Toolbar';\nimport ToolbarButton from './ToolbarButton';\nimport axios from 'axios';\nimport { apiGet } from './api';\nimport './Style/ConversationList.css';\nimport usersService from '../users/UsersService';\nimport authService from './api-authorization/AuthorizeService'\n\n\nexport default  function ConversationList(props) {\n  const [conversations, setConversations] = useState([]);\n  useEffect(() => {\n    getConversations()\n  },[])\n\n    const [isPending, setIsPending] = useState(true);\n\n    const  getConversations = () => {\n    // setConversations(usersService.getUserChat());\n\n       // let x = usersService.getUserChat();\n        const newItem = apiGet(\"Messages/GetUser\");\n        if (newItem.errText) {\n            alert(newItem.errText);\n        }\n        setConversations(newItem);\n        const token =  authService.getAccessToken();\n        const response = fetch('api/Messages/GetUser', {\n            headers: !token ? {} : { 'Authorization': `Bearer ${token}` }\n        });\n        const data =  response.json();\n       \n    }\n    console.log(conversations);\n    \n    return (\n      <div className=\"conversation-list\">\n        <Toolbar\n          title=\"Messenger\"\n          leftItems={[\n            <ToolbarButton key=\"cog\" icon=\"ion-ios-cog\" />\n          ]}\n          rightItems={[\n            <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />\n          ]}\n        />\n        <ConversationSearch />\n            {\n            \n          conversations.map(conversation =>\n            <ConversationListItem\n                  key={conversation.Userid}\n              data={conversation}\n            />\n                )\n            }\n        \n      </div>\n    );\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,oBAAoB,MAAM,wBAAwB;AACzD,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,OAAO;AAC9B,OAAO,8BAA8B;AACrC,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,WAAW,MAAM,sCAAsC;AAG9D,eAAgB,SAASC,gBAAgB,CAACC,KAAK,EAAE;EAC/C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtDC,SAAS,CAAC,MAAM;IACda,gBAAgB,EAAE;EACpB,CAAC,EAAC,EAAE,CAAC;EAEH,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAEhD,MAAOc,gBAAgB,GAAG,MAAM;IAChC;;IAEG;IACC,MAAMG,OAAO,GAAGV,MAAM,CAAC,kBAAkB,CAAC;IAC1C,IAAIU,OAAO,CAACC,OAAO,EAAE;MACjBC,KAAK,CAACF,OAAO,CAACC,OAAO,CAAC;IAC1B;IACAL,gBAAgB,CAACI,OAAO,CAAC;IACzB,MAAMG,KAAK,GAAIX,WAAW,CAACY,cAAc,EAAE;IAC3C,MAAMC,QAAQ,GAAGC,KAAK,CAAC,sBAAsB,EAAE;MAC3CC,OAAO,EAAE,CAACJ,KAAK,GAAG,CAAC,CAAC,GAAG;QAAE,eAAe,EAAG,UAASA,KAAM;MAAE;IAChE,CAAC,CAAC;IACF,MAAMK,IAAI,GAAIH,QAAQ,CAACI,IAAI,EAAE;EAEjC,CAAC;EACDC,OAAO,CAACC,GAAG,CAAChB,aAAa,CAAC;EAE1B,oBACE;IAAK,SAAS,EAAC,mBAAmB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAChC,oBAAC,OAAO;IACN,KAAK,EAAC,WAAW;IACjB,SAAS,EAAE,cACT,oBAAC,aAAa;MAAC,GAAG,EAAC,KAAK;MAAC,IAAI,EAAC,aAAa;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CAC9C;IACF,UAAU,EAAE,cACV,oBAAC,aAAa;MAAC,GAAG,EAAC,KAAK;MAAC,IAAI,EAAC,4BAA4B;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAAG,CAC7D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACF,eACF,oBAAC,kBAAkB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,EAGpBA,aAAa,CAACiB,GAAG,CAACC,YAAY,iBAC5B,oBAAC,oBAAoB;IACf,GAAG,EAAEA,YAAY,CAACC,MAAO;IAC7B,IAAI,EAAED,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACnB,CACG,CAGL;AAEZ"},"metadata":{},"sourceType":"module"}